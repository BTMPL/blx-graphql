components:
  schemas:
    CustomerCreatedRs:
      type: object
      title: "Customer creation response"
      properties:
        id:
          type: string
          description: "Id of new created user"
          example: "1635944521024644"

    CustomerStatuses:
      type: object
      title: "Customer status"
      properties:
        eligibility:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerStatusValue'
        identityVerifiaction:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerStatusValue'
        crr:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerStatusValue'
        cbs:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerStatusValue'
        depositAccounts:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerDepositAccountStatus'
        overall:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/CustomerOverallStatus'
      required:
        - eligibility
        - identityVerifiaction
        - crr
        - cbs
        - depositAccounts
        - overall

    CustomersDetailsRs:
      type: array
      title: 'Customers details'
      items:
        $ref: '#/components/schemas/CustomerDetailsRs'

    CustomersDetailsPageRs:
      type: object
      title: 'Page of customers details'
      properties:
        customers:
          type: object
          description: 'Customers'
          $ref: '../../schemas/response/responses.yaml#/components/schemas/CustomersDetailsRs'
        totalPages:
          type: number
          description: 'Amount of all customers pages'
        totalElements:
          type: number
          description: 'Amount of all customers'

    PersonalFinancingDataRs:
      type: object
      title: 'Personal financing data response'
      properties:
        grossAnnualIncome:
          type: string
          description: 'Gross annual income'
          example: 'RM 80,000.00'
        otherMonthlyCommitmentsWithNonBanks:
          type: string
          description: 'Other monthly commitments with non banks'
          example: 'RM 200.00'
        spouseEmploymentStatus:
          type: string
          description: 'Sposue employment status'
          example: 'Under Employment'
        highestEducationLevel:
          type: string
          description: 'Highest education level'
          example: 'Bachelor'
        residentialOwnershipStatus:
          type: string
          description: 'Residential ownership status'
          example: 'Own'
        purposeOfFinancing:
          type: string
          description: 'Purpose of financing'
          example: 'Home improvement'
        industrialSector:
          type: string
          description: 'Industrial sector'
          example: 'Banking'
        businessRegistrationNumber:
          type: string
          description: 'Business registration number'
          example: '202101234565'
        dataJoined:
          type: string
          description: 'Data joined'
          example: 'Nov 2019'
        workEmailAddress:
          type: string
          description: 'Work email address'
          example: 'razak@ow.com'
        officeAddressLine1:
          type: string
          description: 'Office address line1'
          example: 'Level 42-01 (West Wing), Q Sentral, 2A'
        officeAddressLine2:
          type: string
          description: 'Office address line2'
          example: 'Jalan Stesen Sentral 2, KL Sentral'
        officePostalCode:
          type: string
          description: 'Office postal code'
          example: '50470'
        officeState:
          type: string
          description: 'Office state'
          example: 'Kuala Lumpur'
        officePhoneNumber:
          type: string
          description: 'Office phone number'
          example: '+603 2302 8488'
        confirmedRate:
          type: string
          description: 'Confirmed rate'
          example: '5.7%'
        confirmedEpr:
          type: string
          description: 'Confirmed epr'
          example: '11.2%'
        confirmedMonthlyInstalment:
          type: string
          description: 'Confirmed monthly instalment'
          example: 'RM 500.33'
        version:
          type: integer
          example: 1

    ChangeNumberRs:
      type: object
      title: 'Change number trigger response'
      properties:
        checklistId:
          type: string
          description: 'Id of checklist'
          example: '123321'

    CustomerFinancingDataResponse:
      type: object
      title: 'Customer financing data'
      properties:
        customerId:
          type: string
          description: 'Customer id'
          example: '1635944521024644'
        firstName:
          type: string
          description: "Customer first name"
          example: "Ashwin"
        lastName:
          type: string
          description: "Customer last name"
          example: "Sharma"
        phoneNumber:
          type: string
          description: "Customer's phone number"
          example: "+1 123 123 132"
        email:
          type: string
          description: "Customer's email"
          example: "foo@bar.com"
        nric:
          type: string
          description: "Customer's NRIC"
          example: "510317-10-5821"
        identityVerifications:
          type: array
          description: "Customer's identity verifications"
          items:
            $ref: '#/components/schemas/IdentityVerificationResponse'
        employments:
          type: array
          description: "Customer's employments"
          items:
            $ref: '#/components/schemas/CustomerEmploymentDataResponse'
        profiles:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Profiles'
        dateOfBirth:
          type: string
          description: "Customer's date of birth"
          example: "09-01-1998"
        gender:
          type: string
          description: "Customer's gender"
          example: "M"
        nationality:
          type: string
          description: "Customer's nationality"
          example: "MYS"
        mailingAddressSameAsResidence:
          type: boolean
          description: "Information if mailing address is same as residence"
          example: false
        addresses:
          type: array
          description: "Customer's addresses"
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Address'
        version:
          type: integer
          example: 1

    CustomerDetailsRs:
      type: object
      title: 'Customer details'
      properties:
        customerId:
          type: string
          description: 'Customer id'
          example: '1635944521024644'
        createdAt:
          type: string
          format: date-time
          description: 'Creation date time'
          example: '2021-10-15T18:00:00'
        updatedAt:
          type: string
          format: date-time
          description: 'Last update date time'
          example: '2021-10-15T18:00:00'
        firstName:
          type: string
          description: "Customer first name"
          example: "Ashwin"
        lastName:
          type: string
          description: "Customer last name"
          example: "Sharma"
        nickname:
          type: string
          description: "Customer's nickname"
          example: "John"
        phoneNumber:
          type: string
          description: "Customer's phone number"
          example: "+1 123 123 132"
        email:
          type: string
          description: "Customer's email"
          example: "foo@bar.com"
        nric:
          type: string
          description: "Customer's NRIC"
          example: "510317-10-5821"
        statuses:
          type: string
          description: 'Customer account statuses'
          $ref: '#/components/schemas/CustomerStatuses'
        type:
          type: string
          description: 'Customer type'
          example: 'EXTERNAL_CUSTOMER'
        mobilePreferences:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/MobilePreferences'
        devices:
          type: array
          description: "Customer's devices"
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Device'
        accounts:
          type: array
          description: "Customer's accounts"
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Account'
        identity-verifications:
          type: array
          description: "Customer's identity verifications"
          items:
            $ref: '#/components/schemas/IdentityVerificationResponse'
        employments:
          type: array
          description: "Customer's employments"
          items:
            $ref: '#/components/schemas/CustomerEmploymentDataResponse'
        profiles:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Profiles'
        acceptedDocuments:
          type: array
          description: "Details of accepted documents"
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/AcceptedDocument'
        date_of_birth:
          type: string
          description: Customer date of birth
          example: "09-01-1998"
        place_of_birth:
          type: string
          description: Customer place of Birty
          example: "MYS"
        gender:
          type: string
          description: "Customer gender"
          example: "M"
        nationality:
          type: string
          description: Nationality of customer
          example: "MYS"
        hasRetailAccount:
          type: boolean
          description: "Customer has retail account"
          example: false
        hasSmeAccount:
          type: boolean
          description: "Customer has sme account"
          example: false
        smes:
          type: array
          description: "Customer's smes"
          items:
            $ref: '#/components/schemas/SmeCustomerResponse'
        mailingAddressSameAsResidence:
          type: boolean
          description: "Customer mailing address is the same as residence"
          example: false
        addresses:
          type: array
          description: "Customer addresses"
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Address'
        iam:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Iam'
        version:
          type: integer
          example: 1

    IdentityVerificationResponse:
      type: object
      title: 'Identity verification request'
      properties:
        identityReferenceId:
          type: string
          example: "533f307b-1af7-4ab9-9a2f-62d657bacf49"
        startVerificationDate:
          type: string
          format: date-time
          example: "2021-10-15T18:00:00"
        status:
          type: string
          example: "PENDING"
        documentType:
          type: string
          example: "ID_CARD"
        documentSubtype:
          type: string
          example: "VISA"
        documentCountry:
          type: string
          example: "MYS"
        version:
          type: integer
          example: 1
      required:
        - identityReferenceId
        - startVerificationDate
        - status

    CustomerEmploymentDataResponse:
      type: object
      title: "Customer's employment creation data"
      properties:
        id:
          type: string
          format: uuid
          description: "Customer's employment id"
        employer:
          type: string
          description: "Customer's employer"
          example: "GFT"
        employmentType:
          type: string
          description: "Employment type"
          example: "contract"
        employmentSector:
          type: string
          description: "Employment sector"
          example: "financial"
        occupation:
          type: string
          description: "Customer's occupation"
          example: "manager"
        annualIncomeBracket:
          type: string
          description: "Customer's annual income bracket"
          example: "10.000-50.000"
        version:
          type: integer
          example: 1
      required:
        - employmentType

    Problem:
      type: object
      title: 'Problem'
      properties:
        type:
          type: string
          format: uri
          description: 'URI that identifies the problem type with human-readable info.'
          example: 'Technical Error'
        title:
          type: string
          description: 'A short summary of the problem type. Readable for engineers'
          example: 'Service Unavailable'
        status:
          type: string
          description: 'The HTTP status code generated by the origin server'
          minimum: '100'
          maximum: '600'
          exclusiveMaximum: true
          example: '503'
        detail:
          type: string
          description: 'A human readable explanation specific to this occurrence'
          example: 'Connection to database timed out'
        instance:
          type: string
          format: uri
          description: 'An absolute URI that identifies the specific occurrence of the problem.'

    DevicesResponse:
      type: array
      title: 'Devices details'
      items:
        $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Device'


    SmeCustomerRoleResponse:
      type: array
      title: 'Response in sme roles'
      items:
        $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/SmeCustomerRole'

    CustomerSmesRs:
      type: object
      title: 'Smes of customer'
      properties:
        customerId:
          type: string
          description: 'Customer id'
          example: "1658741200"
        smes:
          type: array
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Sme'

    SmesCustomerRs:
      type: object
      title: 'Customers of smes'
      properties:
        smeId:
          type: string
          description: 'Sme id'
          example: "1658741200"
        customers:
          type: array
          items:
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Customer'

    CustomerFramlDetailsRs:
      type: object
      title: 'Customer details for framl-data'
      properties:
        fullName:
          type: string
          description: 'Customer full name'
          example: 'Muhammad Ali'
        dateOfBirth:
          type: string
          description: 'Creation date time'
          example: '1998-01-09'
        placeOfBirth:
          type: string
          description: 'Customer place of birth'
          example: "70"
        nationality:
          type: string
          description: 'Customer nationality'
        addressCountry:
          type: string
          example: 'MYS'
        nonResidentCountry:
          type: string
          example: 'MYS'
        mailingAddressCountry:
          type: string
        IDOrPassportissueCountry:
          type: string
        employerCountry:
          type: string
          example: 'MYS'
        individualType:
          type: string
          example: 'Individual'
        productServices:
          type: string
          example: 'Saving Account'
        distributionChannel:
          type: string
          example: 'Mobile Banking'
        occupation:
          type: string
          example: 'Boxer'

    IdAddress:
      type: object
      title: 'Customer address'
      properties:
        line1:
          type: string
        line2:
          type: string
        line3:
          type: string
        line4:
          type: string
        line5:
          type: string
        country:
          type: string
          example: 'MYS'
        postalCode:
          type: string
        city:
          type: string
        subvision:
          type: string
        formattedAddress:
          type: string

    SmeResponse:
      type: object
      title: "Response with smes"
      properties:
        smeId:
          type: string
        status:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/SmeOverallStatus'
        brn:
          type: string
        name:
          type: string
        localName:
          type: string
        abbreviation:
          type: string
        bussinessType:
          type: string
        countryCode:
          type: string
        countrySubdivisionCode:
          type: string
        profiles:
          $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/SmeProfiles'
        addresses:
          type: array
          title: 'Sme addresses'
          items:
            type: object
            $ref: '../../schemas/generic/genericTypes.yaml#/components/schemas/Address'
        version:
          type: integer
          example: 1
      required:
        - countryCode
        - nam
        - brn
        - smeId
    SmesResponse:
      type: array
      title: 'Customers details'
      items:
        type: object
        $ref: '#/components/schemas/SmeResponse'

    SmeCustomerResponse:
      type: object
      title: "Response with customer sme"
      properties:
        customerId:
          type: string
        smeId:
          type: string
        customerRoles:
          type: array
          items:
            type: string
        version:
          type: integer
          example: 1
      required:
        - customerId
        - customerRoles
